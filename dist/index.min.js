!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Faust2WebAudio=e():t.Faust2WebAudio=e()}(window,(function(){return function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=4)}([function(t,e,s){t.exports=s(3)},function(t,e){function s(t,e,s,a,i,r,o){try{var n=t[r](o),u=n.value}catch(t){return void s(t)}n.done?e(u):Promise.resolve(u).then(a,i)}t.exports=function(t){return function(){var e=this,a=arguments;return new Promise((function(i,r){var o=t.apply(e,a);function n(t){s(o,i,r,n,u,"next",t)}function u(t){s(o,i,r,n,u,"throw",t)}n(void 0)}))}}},function(t,e){t.exports=function(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},function(t,e,s){var a=function(t){"use strict";var e=Object.prototype,s=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function n(t,e,s,a){var i=e&&e.prototype instanceof p?e:p,r=Object.create(i.prototype),o=new A(a||[]);return r._invoke=function(t,e,s){var a="suspendedStart";return function(i,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===i)throw r;return x()}for(s.method=i,s.arg=r;;){var o=s.delegate;if(o){var n=b(o,s);if(n){if(n===h)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===a)throw a="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a="executing";var p=u(t,e,s);if("normal"===p.type){if(a=s.done?"completed":"suspendedYield",p.arg===h)continue;return{value:p.arg,done:s.done}}"throw"===p.type&&(a="completed",s.method="throw",s.arg=p.arg)}}}(t,s,o),r}function u(t,e,s){try{return{type:"normal",arg:t.call(e,s)}}catch(t){return{type:"throw",arg:t}}}t.wrap=n;var h={};function p(){}function c(){}function f(){}var l={};l[i]=function(){return this};var d=Object.getPrototypeOf,m=d&&d(d(O([])));m&&m!==e&&s.call(m,i)&&(l=m);var v=f.prototype=p.prototype=Object.create(l);function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function g(t,e){var a;this._invoke=function(i,r){function o(){return new e((function(a,o){!function a(i,r,o,n){var h=u(t[i],t,r);if("throw"!==h.type){var p=h.arg,c=p.value;return c&&"object"==typeof c&&s.call(c,"__await")?e.resolve(c.__await).then((function(t){a("next",t,o,n)}),(function(t){a("throw",t,o,n)})):e.resolve(c).then((function(t){p.value=t,o(p)}),(function(t){return a("throw",t,o,n)}))}n(h.arg)}(i,r,a,o)}))}return a=a?a.then(o,o):o()}}function b(t,e){var s=t.iterator[e.method];if(void 0===s){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=u(s,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,h;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(s.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return c.prototype=v.constructor=f,f.constructor=c,f[o]=c.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===c||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(g.prototype),g.prototype[r]=function(){return this},t.AsyncIterator=g,t.async=function(e,s,a,i,r){void 0===r&&(r=Promise);var o=new g(n(e,s,a,i),r);return t.isGeneratorFunction(s)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(v),v[o]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var s in t)e.push(s);return e.reverse(),function s(){for(;e.length;){var a=e.pop();if(a in t)return s.value=a,s.done=!1,s}return s.done=!0,s}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(s,a){return o.type="throw",o.arg=t,e.next=s,a&&(e.method="next",e.arg=void 0),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var n=s.call(r,"catchLoc"),u=s.call(r,"finallyLoc");if(n&&u){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(n){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var s=this.tryEntries[e];if(s.finallyLoc===t)return this.complete(s.completion,s.afterLoc),M(s),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var s=this.tryEntries[e];if(s.tryLoc===t){var a=s.completion;if("throw"===a.type){var i=a.arg;M(s)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,s){return this.delegate={iterator:O(t),resultName:e,nextLoc:s},"next"===this.method&&(this.arg=void 0),h}},t}(t.exports);try{regeneratorRuntime=a}catch(t){Function("r","regeneratorRuntime = r")(a)}},function(t,e,s){"use strict";s.r(e),s.d(e,"Faust",(function(){return S})),s.d(e,"FaustAudioWorkletNode",(function(){return I}));var a=s(2),i=s.n(a),r=s(0),o=s.n(r),n=s(1),u=s.n(n);class h{static hash(t,e){const s=Object.assign({msgFormat:"string",outFormat:"hex"},e);switch(s.msgFormat){default:case"string":t=function(t){try{return(new TextEncoder).encode(t,"utf-8").reduce((t,e)=>t+String.fromCharCode(e),"")}catch(e){return unescape(encodeURIComponent(t))}}(t);break;case"hex-bytes":t=function(t){const e=t.replace(" ","");return""==e?"":e.match(/.{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join("")}(t)}const a=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520],r=(t+=String.fromCharCode(128)).length/4+2,o=Math.ceil(r/16),n=new Array(o);for(let e=0;e<o;e++){n[e]=new Array(16);for(let s=0;s<16;s++)n[e][s]=t.charCodeAt(64*e+4*s+0)<<24|t.charCodeAt(64*e+4*s+1)<<16|t.charCodeAt(64*e+4*s+2)<<8|t.charCodeAt(64*e+4*s+3)<<0}n[o-1][14]=8*(t.length-1)/Math.pow(2,32),n[o-1][14]=Math.floor(n[o-1][14]),n[o-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<o;t++){const e=new Array(80);for(let s=0;s<16;s++)e[s]=n[t][s];for(let t=16;t<80;t++)e[t]=h.ROTL(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let s=i[0],r=i[1],o=i[2],u=i[3],p=i[4];for(let t=0;t<80;t++){const i=Math.floor(t/20),n=h.ROTL(s,5)+h.f(i,r,o,u)+p+a[i]+e[t]>>>0;p=u,u=o,o=h.ROTL(r,30)>>>0,r=s,s=n}i[0]=i[0]+s>>>0,i[1]=i[1]+r>>>0,i[2]=i[2]+o>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+p>>>0}for(let t=0;t<i.length;t++)i[t]=("00000000"+i[t].toString(16)).slice(-8);const u="hex-w"==s.outFormat?" ":"";return i.join(u)}static f(t,e,s,a){switch(t){case 0:return e&s^~e&a;case 1:return e^s^a;case 2:return e&s^e&a^s&a;case 3:return e^s^a}}static ROTL(t,e){return t<<e|t>>>32-e}}var p=h,c=t=>t?String.fromCharCode.apply(null,new Uint8Array(t)):null,f=t=>{if(!t)return null;for(var e=new ArrayBuffer(t.length),s=new Uint8Array(e),a=0,i=t.length;a<i;a++)s[a]=t.charCodeAt(a);return e},l=new WebAssembly.Module(((t,e)=>{if("function"==typeof window.atob)return f(atob(t));for(var s,a,i,r=t.replace(/[^A-Za-z0-9+/]/g,""),o=r.length,n=e?Math.ceil((3*o+1>>2)/e)*e:3*o+1>>2,u=new Uint8Array(n),h=0,p=0,c=0;c<o;c++)if(a=3&c,h|=((i=r.charCodeAt(c))>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:0)<<18-6*a,3===a||o-c==1){for(s=0;s<3&&p<n;s++,p++)u[p]=h>>>(16>>>s&24)&255;h=0}return u.buffer})("data:application/wasm;base64,AGFzbQEAAAABj4CAgAACYAN/f38AYAR/f39/AX0CkoCAgAABBm1lbW9yeQZtZW1vcnkCAAIDg4CAgAACAAEHmoCAgAACC2NsZWFyT3V0cHV0AAAIbWl4Vm9pY2UAAQqKgoCAAALigICAAAEDfwJAQQAhBQNAAkAgAiAFQQJ0aigCACEDQQAhBANAAkAgAyAEQQJ0akMAAAAAOAIAIARBAWohBCAEIABIBEAMAgUMAQsACwsgBUEBaiEFIAUgAUgEQAwCBQwBCwALCwsLnYGAgAACBH8DfQJ9QQAhB0MAAAAAIQgDQAJAQQAhBiACIAdBAnRqKAIAIQQgAyAHQQJ0aigCACEFA0ACQCAEIAZBAnRqKgIAIQkgCCAJi5chCCAFIAZBAnRqKgIAIQogBSAGQQJ0aiAKIAmSOAIAIAZBAWohBiAGIABIBEAMAgUMAQsACwsgB0EBaiEHIAcgAUgEQAwCBQwBCwALCyAIDwsL".split(",")[1])),d=t=>440*Math.pow(2,(t-69)/12),m=(t,e,s,a,i)=>(t-e)/(s-e)*(i-a)+a,v=()=>{var t=(e,s)=>{if("object"!=typeof e)return!1;if(e.address)return e.address===s;for(var a in e)if(t(e[a],s))return!0;return!1};return t},y=(t,e)=>({env:{memory:t?e:void 0,memoryBase:0,tableBase:0,_abs:Math.abs,_acosf:Math.acos,_asinf:Math.asin,_atanf:Math.atan,_atan2f:Math.atan2,_ceilf:Math.ceil,_cosf:Math.cos,_expf:Math.exp,_floorf:Math.floor,_fmodf:(t,e)=>t%e,_logf:Math.log,_log10f:Math.log10,_max_f:Math.max,_min_f:Math.min,_remainderf:(t,e)=>t-Math.round(t/e)*e,_powf:Math.pow,_roundf:Math.fround,_sinf:Math.sin,_sqrtf:Math.sqrt,_tanf:Math.tan,_acoshf:Math.acosh,_asinhf:Math.asinh,_atanhf:Math.atanh,_coshf:Math.cosh,_sinhf:Math.sinh,_tanhf:Math.tanh,_acos:Math.acos,_asin:Math.asin,_atan:Math.atan,_atan2:Math.atan2,_ceil:Math.ceil,_cos:Math.cos,_exp:Math.exp,_floor:Math.floor,_fmod:(t,e)=>t%e,_log:Math.log,_log10:Math.log10,_max_:Math.max,_min_:Math.min,_remainder:(t,e)=>t-Math.round(t/e)*e,_pow:Math.pow,_round:Math.fround,_sin:Math.sin,_sqrt:Math.sqrt,_tan:Math.tan,_acosh:Math.acosh,_asinh:Math.asinh,_atanh:Math.atanh,_cosh:Math.cosh,_sinh:Math.sinh,_tanh:Math.tanh,table:new WebAssembly.Table({initial:0,element:"anyfunc"})}}),g=(t,e,s,a)=>{var i=Math.max(4,t),r=(t=>{for(var e=65536;e<t;)e*=2;return e})((s?s.size:0)+e.size*i+(e.inputs+2*e.outputs)*(4+4*a))/65536;return r=Math.max(2,r),new WebAssembly.Memory({initial:r,maximum:r})},b=t=>{var e="",s=function(s){var a=t[s];Array.isArray(a)?a.forEach(t=>e+=s+" "+t+" "):e+=s+" "+a+" "};for(var a in t)s(a);return e},$=t=>{var e=[],s=function(s){var a=t[s];Array.isArray(a)?a.forEach(t=>e.push(s,t)):"number"==typeof a?e.push(s,a.toString()):e.push(s,a)};for(var a in t)s(a);return e};function M(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}class A{constructor(t){this.faust=void 0,this.faust=t}initNode(t,e,s,a,r,o,n,u,h){var p,c=t.dspMeta,f=c.inputs,l=c.outputs;try{p=r.createScriptProcessor(o,f,l)}catch(t){throw this.faust.error("Error in createScriptProcessor: "+t.message),t}if(p.destroyed=!1,p.voices=u,p.dspMeta=c,p.outputHandler=null,p.computeHandler=null,p.$ins=null,p.$outs=null,p.dspInChannnels=[],p.dspOutChannnels=[],p.fPitchwheelLabel=[],p.fCtrlLabel=new Array(128).fill(null).map(()=>[]),p.numIn=f,p.numOut=l,this.faust.log(p.numIn),this.faust.log(p.numOut),p.ptrSize=4,p.sampleSize=4,p.factory=e.exports,p.HEAP=p.voices?n.buffer:p.factory.memory.buffer,p.HEAP32=new Int32Array(p.HEAP),p.HEAPF32=new Float32Array(p.HEAP),this.faust.log(p.HEAP),this.faust.log(p.HEAP32),this.faust.log(p.HEAPF32),p.outputsTimer=5,p.outputsItems=[],p.inputsItems=[],p.$audioHeap=p.voices?0:p.dspMeta.size,p.$$audioHeapInputs=p.$audioHeap,p.$$audioHeapOutputs=p.$$audioHeapInputs+p.numIn*p.ptrSize,p.voices?(p.$$audioHeapMixing=p.$$audioHeapOutputs+p.numOut*p.ptrSize,p.$audioHeapInputs=p.$$audioHeapMixing+p.numOut*p.ptrSize,p.$audioHeapOutputs=p.$audioHeapInputs+p.numIn*p.bufferSize*p.sampleSize,p.$audioHeapMixing=p.$audioHeapOutputs+p.numOut*p.bufferSize*p.sampleSize,p.$dsp=p.$audioHeapMixing+p.numOut*p.bufferSize*p.sampleSize):(p.$audioHeapInputs=p.$$audioHeapOutputs+p.numOut*p.ptrSize,p.$audioHeapOutputs=p.$audioHeapInputs+p.numIn*p.bufferSize*p.sampleSize,p.$dsp=0),p.voices){p.effectMeta=t.effectMeta,p.$mixing=null,p.fFreqLabel$=[],p.fGateLabel$=[],p.fGainLabel$=[],p.fDate=0,p.mixer=a.exports,p.effect=s?s.exports:null,this.faust.log(p.mixer),this.faust.log(p.factory),this.faust.log(p.effect),p.dspVoices$=[],p.dspVoicesState=[],p.dspVoicesLevel=[],p.dspVoicesDate=[],p.kActiveVoice=0,p.kFreeVoice=-1,p.kReleaseVoice=-2,p.kNoVoice=-3;for(var v=0;v<p.voices;v++)p.dspVoices$[v]=p.$dsp+v*p.dspMeta.size,p.dspVoicesState[v]=p.kFreeVoice,p.dspVoicesLevel[v]=0,p.dspVoicesDate[v]=0;p.$effect=p.dspVoices$[p.voices-1]+p.dspMeta.size}p.pathTable$={},p.$buffer=0,p.cachedEvents=[],p.plotHandler=h,p.updateOutputs=()=>{p.outputsItems.length>0&&p.outputHandler&&0==p.outputsTimer--&&(p.outputsTimer=5,p.outputsItems.forEach(t=>p.outputHandler(t,p.factory.getParamValue(p.$dsp,p.pathTable$[t]))))},p.parseUI=t=>t.forEach(t=>p.parseGroup(t)),p.parseGroup=t=>t.items?p.parseItems(t.items):null,p.parseItems=t=>t.forEach(t=>p.parseItem(t)),p.parseItem=t=>{if("vgroup"===t.type||"hgroup"===t.type||"tgroup"===t.type)p.parseItems(t.items);else if("hbargraph"===t.type||"vbargraph"===t.type)p.outputsItems.push(t.address),p.pathTable$[t.address]=t.index;else if("vslider"===t.type||"hslider"===t.type||"button"===t.type||"checkbox"===t.type||"nentry"===t.type){if(p.inputsItems.push(t.address),p.pathTable$[t.address]=t.index,!t.meta)return;t.meta.forEach(e=>{var s=e.midi;if(s){var a=s.trim();if("pitchwheel"===a)p.fPitchwheelLabel.push({path:t.address,min:t.min,max:t.max});else{var i=a.match(/^ctrl\s(\d+)/);if(!i)return;p.fCtrlLabel[parseInt(i[1])].push({path:t.address,min:t.min,max:t.max})}}})}},p.voices&&(p.getPlayingVoice=t=>{for(var e=p.kNoVoice,s=Number.MAX_VALUE,a=0;a<p.voices;a++)p.dspVoicesState[a]===t&&p.dspVoicesDate[a]<s&&(s=p.dspVoicesDate[a],e=a);return e},p.allocVoice=t=>(p.factory.instanceClear(p.dspVoices$[t]),p.dspVoicesDate[t]=p.fDate++,p.dspVoicesState[t]=p.kActiveVoice,t),p.getFreeVoice=()=>{for(var t=0;t<p.voices;t++)if(p.dspVoicesState[t]===p.kFreeVoice)return p.allocVoice(t);for(var e=p.kNoVoice,s=p.kNoVoice,a=Number.MAX_VALUE,i=Number.MAX_VALUE,r=0;r<p.voices;r++)p.dspVoicesState[r]===p.kReleaseVoice?p.dspVoicesDate[r]<a&&(a=p.dspVoicesDate[r],e=r):p.dspVoicesDate[r]<i&&(i=p.dspVoicesDate[r],s=r);return a!==Number.MAX_VALUE?(this.faust.log("Steal release voice : voice_date = ".concat(p.dspVoicesDate[e]," cur_date = ").concat(p.fDate," voice = ").concat(e)),p.allocVoice(e)):i!==Number.MAX_VALUE?(this.faust.log("Steal playing voice : voice_date = ".concat(p.dspVoicesDate[s]," cur_date = ").concat(p.fDate," voice = ").concat(s)),p.allocVoice(s)):p.kNoVoice},p.keyOn=(t,e,s)=>{p.cachedEvents.push({type:"keyOn",data:[t,e,s]});var a=p.getFreeVoice();this.faust.log("keyOn voice "+a),p.fFreqLabel$.forEach(t=>p.factory.setParamValue(p.dspVoices$[a],t,d(e))),p.fGateLabel$.forEach(t=>p.factory.setParamValue(p.dspVoices$[a],t,1)),p.fGainLabel$.forEach(t=>p.factory.setParamValue(p.dspVoices$[a],t,s/127)),p.dspVoicesState[a]=e},p.keyOff=(t,e,s)=>{p.cachedEvents.push({type:"keyOff",data:[t,e,s]});var a=p.getPlayingVoice(e);return a===p.kNoVoice?this.faust.log("Playing voice not found..."):(p.fGateLabel$.forEach(t=>p.factory.setParamValue(p.dspVoices$[a],t,0)),p.dspVoicesState[a]=p.kReleaseVoice,this.faust.log("keyOff voice "+a))},p.allNotesOff=()=>{p.cachedEvents.push({type:"ctrlChange",data:[0,123,0]});for(var t=function(t){p.fGateLabel$.forEach(e=>p.factory.setParamValue(p.dspVoices$[t],e,0)),p.dspVoicesState[t]=p.kReleaseVoice},e=0;e<p.voices;e++)t(e)}),p.midiMessage=t=>{p.cachedEvents.push({data:t,type:"midi"});var e=t[0]>>4,s=15&t[0],a=t[1],i=t[2];if(9!==s){if(p.voices){if(8===e||9===e&&0===i)return p.keyOff(s,a,i);if(9===e)return p.keyOn(s,a,i)}return 11===e?p.ctrlChange(s,a,i):14===e?p.pitchWheel(s,128*i+a):void 0}},p.ctrlChange=(t,e,s)=>{p.cachedEvents.push({type:"ctrlChange",data:[t,e,s]}),123!==e&&120!==e||p.allNotesOff(),p.fCtrlLabel[e].length&&p.fCtrlLabel[e].forEach(t=>{var e=t.path;p.setParamValue(e,m(s,0,127,t.min,t.max)),p.outputHandler&&p.outputHandler(e,p.getParamValue(e))})},p.pitchWheel=(t,e)=>{p.cachedEvents.push({type:"pitchWheel",data:[t,e]}),p.fPitchwheelLabel.forEach(t=>{p.setParamValue(t.path,m(e,0,16383,t.min,t.max)),p.outputHandler&&p.outputHandler(t.path,p.getParamValue(t.path))})},p.compute=t=>{if(p.destroyed)return!1;for(var e=0;e<p.numIn;e++){var s=t.inputBuffer.getChannelData(e);p.dspInChannnels[e].set(s)}if(p.computeHandler&&p.computeHandler(p.bufferSize),p.voices){p.mixer.clearOutput(p.bufferSize,p.numOut,p.$outs);for(var a=0;a<p.voices;a++)p.factory.compute(p.dspVoices$[a],p.bufferSize,p.$ins,p.$mixing),p.mixer.mixVoice(p.bufferSize,p.numOut,p.$mixing,p.$outs);p.effect&&p.effect.compute(p.$effect,p.bufferSize,p.$outs,p.$outs)}else p.factory.compute(p.$dsp,p.bufferSize,p.$ins,p.$outs);p.updateOutputs();for(var i=new Array(p.numOut).fill(null).map(()=>new Float32Array(p.bufferSize)),r=0;r<p.numOut;r++){var o=t.outputBuffer.getChannelData(r),n=p.dspOutChannnels[r];o.set(n),i[r].set(n)}return p.plotHandler&&p.plotHandler(i,p.$buffer++,p.cachedEvents.length?p.cachedEvents:void 0),p.cachedEvents=[],!0},p.setup=()=>{if(this.faust.log("buffer_size "+p.bufferSize),p.onaudioprocess=p.compute,p.numIn>0){p.$ins=p.$$audioHeapInputs;for(var t=0;t<p.numIn;t++)p.HEAP32[(p.$ins>>2)+t]=p.$audioHeapInputs+p.bufferSize*p.sampleSize*t;for(var e=p.HEAP32.subarray(p.$ins>>2,p.$ins+p.numIn*p.ptrSize>>2),s=0;s<p.numIn;s++)p.dspInChannnels[s]=p.HEAPF32.subarray(e[s]>>2,e[s]+p.bufferSize*p.sampleSize>>2)}if(p.numOut>0){p.$outs=p.$$audioHeapOutputs,p.voices&&(p.$mixing=p.$$audioHeapMixing);for(var a=0;a<p.numOut;a++)p.HEAP32[(p.$outs>>2)+a]=p.$audioHeapOutputs+p.bufferSize*p.sampleSize*a,p.voices&&(p.HEAP32[(p.$mixing>>2)+a]=p.$audioHeapMixing+p.bufferSize*p.sampleSize*a);for(var i=p.HEAP32.subarray(p.$outs>>2,p.$outs+p.numOut*p.ptrSize>>2),o=0;o<p.numOut;o++)p.dspOutChannnels[o]=p.HEAPF32.subarray(i[o]>>2,i[o]+p.bufferSize*p.sampleSize>>2)}p.parseUI(p.dspMeta.ui),p.effect&&p.parseUI(p.effectMeta.ui),p.voices?(p.inputsItems.forEach(t=>{t.endsWith("/gate")?p.fGateLabel$.push(p.pathTable$[t]):t.endsWith("/freq")?p.fFreqLabel$.push(p.pathTable$[t]):t.endsWith("/gain")&&p.fGainLabel$.push(p.pathTable$[t])}),p.dspVoices$.forEach(t=>p.factory.init(t,r.sampleRate)),p.effect&&p.effect.init(p.$effect,r.sampleRate)):p.factory.init(p.$dsp,r.sampleRate)},p.getSampleRate=()=>r.sampleRate,p.getNumInputs=()=>p.numIn,p.getNumOutputs=()=>p.numOut,p.init=t=>{p.voices?p.dspVoices$.forEach(e=>p.factory.init(e,t)):p.factory.init(p.$dsp,t)},p.instanceInit=t=>{p.voices?p.dspVoices$.forEach(e=>p.factory.instanceInit(e,t)):p.factory.instanceInit(p.$dsp,t)},p.instanceConstants=t=>{p.voices?p.dspVoices$.forEach(e=>p.factory.instanceConstants(e,t)):p.factory.instanceConstants(p.$dsp,t)},p.instanceResetUserInterface=()=>{p.voices?p.dspVoices$.forEach(t=>p.factory.instanceResetUserInterface(t)):p.factory.instanceResetUserInterface(p.$dsp)},p.instanceClear=()=>{p.voices?p.dspVoices$.forEach(t=>p.factory.instanceClear(t)):p.factory.instanceClear(p.$dsp)},p.metadata=t=>p.dspMeta.meta?p.dspMeta.meta.forEach(e=>t.declare(Object.keys(e)[0],e[Object.keys(e)[0]])):void 0,p.setOutputParamHandler=t=>p.outputHandler=t,p.getOutputParamHandler=()=>p.outputHandler,p.setComputeHandler=t=>p.computeHandler=t,p.getComputeHandler=()=>p.computeHandler;var y=(t,e)=>{if("object"!=typeof t)return!1;if(t.address)return t.address===e;for(var s in t)if(y(t[s],e))return!0;return!1};return p.setParamValue=(t,e)=>{p.cachedEvents.push({type:"param",data:{path:t,value:e}}),p.voices?p.effect&&y(p.effectMeta.ui,t)?p.effect.setParamValue(p.$effect,p.pathTable$[t],e):p.dspVoices$.forEach(s=>p.factory.setParamValue(s,p.pathTable$[t],e)):p.factory.setParamValue(p.$dsp,p.pathTable$[t],e)},p.getParamValue=t=>p.voices?p.effect&&y(p.effectMeta.ui,t)?p.effect.getParamValue(p.$effect,p.pathTable$[t]):p.factory.getParamValue(p.dspVoices$[0],p.pathTable$[t]):p.factory.getParamValue(p.$dsp,p.pathTable$[t]),p.getParams=()=>p.inputsItems,p.getJSON=()=>{if(p.voices){var t=p.dspMeta,e=p.effectMeta,s=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?M(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},t);return s.ui=e?[{type:"tgroup",label:"Sequencer",items:[{type:"vgroup",label:"Instrument",items:t.ui},{type:"vgroup",label:"Effect",items:e.ui}]}]:[{type:"tgroup",label:"Polyphonic",items:[{type:"vgroup",label:"Voices",items:t.ui}]}],JSON.stringify(s)}return JSON.stringify(p.dspMeta)},p.getUI=()=>{if(p.voices){var t=p.dspMeta,e=p.effectMeta;return e?[{type:"tgroup",label:"Sequencer",items:[{type:"vgroup",label:"Instrument",items:t.ui},{type:"vgroup",label:"Effect",items:e.ui}]}]:[{type:"tgroup",label:"Polyphonic",items:[{type:"vgroup",label:"Voices",items:t.ui}]}]}return p.dspMeta.ui},p.destroy=()=>{p.destroyed=!0,delete p.outputHandler,delete p.computeHandler,delete p.plotHandler},p.setup(),p}getNode(t){var e=this;return u()(o.a.mark((function s(){var a,i,r,n,u,h,p,c,f,d,m,v,b;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=t.compiledDsp,i=t.audioCtx,r=t.bufferSize,n=t.voices,u=t.plotHandler,h=r||512,s.prev=2,d=g(n,a.dspMeta,a.effectMeta,h),m=y(n,d),!n){s.next=16;break}return v={imports:{print:console.log},memory:{memory:d}},f=new WebAssembly.Instance(l,v),s.prev=8,s.next=11,WebAssembly.instantiate(a.effectModule,m);case 11:c=s.sent,s.next=16;break;case 14:s.prev=14,s.t0=s.catch(8);case 16:return s.next=18,WebAssembly.instantiate(a.dspModule,m);case 18:b=s.sent,p=e.initNode(a,b,c,f,i,h,d,n,u),s.next=26;break;case 22:throw s.prev=22,s.t1=s.catch(2),e.faust.error("Faust "+a.shaKey+" cannot be loaded or compiled"),s.t1;case 26:return s.abrupt("return",p);case 27:case"end":return s.stop()}}),s,null,[[2,22],[8,14]])})))()}}var O=()=>{class t{}t.id=faustData.id,t.dspMeta=faustData.dspMeta,t.effectMeta=faustData.effectMeta;class e extends AudioWorkletProcessor{static parseUI(t,e,s){for(var a=0;a<t.length;a++)this.parseGroup(t[a],e,s)}static parseGroup(t,e,s){t.items&&this.parseItems(t.items,e,s)}static parseItems(t,e,s){for(var a=0;a<t.length;a++)s(t[a],e,s)}static parseItem(t,s,a){"vgroup"===t.type||"hgroup"===t.type||"tgroup"===t.type?e.parseItems(t.items,s,a):"hbargraph"===t.type||"vbargraph"===t.type||("vslider"===t.type||"hslider"===t.type||"nentry"===t.type?faustData.voices&&(t.address.endsWith("/gate")||t.address.endsWith("/freq")||t.address.endsWith("/gain"))||s.push({name:t.address,defaultValue:t.init||0,minValue:t.min||0,maxValue:t.max||0}):"button"!==t.type&&"checkbox"!==t.type||faustData.voices&&(t.address.endsWith("/gate")||t.address.endsWith("/freq")||t.address.endsWith("/gain"))||s.push({name:t.address,defaultValue:t.init||0,minValue:0,maxValue:1}))}static parseItem2(t,s,a){if("vgroup"===t.type||"hgroup"===t.type||"tgroup"===t.type)e.parseItems(t.items,s,a);else if("hbargraph"===t.type||"vbargraph"===t.type)s.outputsItems.push(t.address),s.pathTable$[t.address]=t.index;else if("vslider"===t.type||"hslider"===t.type||"button"===t.type||"checkbox"===t.type||"nentry"===t.type){if(s.inputsItems.push(t.address),s.pathTable$[t.address]=t.index,!t.meta)return;t.meta.forEach(e=>{var a=e.midi;if(a){var i=a.trim();if("pitchwheel"===i)s.fPitchwheelLabel.push({path:t.address,min:t.min,max:t.max});else{var r=i.match(/^ctrl\s(\d+)/);if(!r)return;s.fCtrlLabel[parseInt(r[1])].push({path:t.address,min:t.min,max:t.max})}}})}}static get parameterDescriptors(){var e=[];return this.parseUI(t.dspMeta.ui,e,this.parseItem),t.effectMeta&&this.parseUI(t.effectMeta.ui,e,this.parseItem),e}constructor(e){super(e),this.destroyed=void 0,this.dspInstance=void 0,this.effectInstance=void 0,this.mixerInstance=void 0,this.memory=void 0,this.bufferSize=void 0,this.voices=void 0,this.dspMeta=void 0,this.$ins=void 0,this.$outs=void 0,this.dspInChannnels=void 0,this.dspOutChannnels=void 0,this.fPitchwheelLabel=void 0,this.fCtrlLabel=void 0,this.numIn=void 0,this.numOut=void 0,this.ptrSize=void 0,this.sampleSize=void 0,this.outputsTimer=void 0,this.inputsItems=void 0,this.outputsItems=void 0,this.pathTable$=void 0,this.$audioHeap=void 0,this.$$audioHeapInputs=void 0,this.$$audioHeapOutputs=void 0,this.$audioHeapInputs=void 0,this.$audioHeapOutputs=void 0,this.$dsp=void 0,this.factory=void 0,this.HEAP=void 0,this.HEAP32=void 0,this.HEAPF32=void 0,this.effectMeta=void 0,this.$effect=void 0,this.$mixing=void 0,this.fFreqLabel$=void 0,this.fGateLabel$=void 0,this.fGainLabel$=void 0,this.fDate=void 0,this.$$audioHeapMixing=void 0,this.$audioHeapMixing=void 0,this.mixer=void 0,this.effect=void 0,this.dspVoices$=void 0,this.dspVoicesState=void 0,this.dspVoicesLevel=void 0,this.dspVoicesDate=void 0,this.kActiveVoice=void 0,this.kFreeVoice=void 0,this.kReleaseVoice=void 0,this.kNoVoice=void 0,this.$buffer=void 0,this.cachedEvents=void 0,this.outputHandler=void 0,this.computeHandler=void 0,this.handleMessage=t=>{var e=t.data;switch(this.cachedEvents.push({type:t.data.type,data:t.data.data}),e.type){case"midi":this.midiMessage(e.data);break;case"keyOn":this.keyOn(e.data[0],e.data[1],e.data[2]);break;case"keyOff":this.keyOff(e.data[0],e.data[1],e.data[2]);break;case"ctrlChange":this.ctrlChange(e.data[0],e.data[1],e.data[2]);break;case"pitchWheel":this.pitchWheel(e.data[0],e.data[1]);break;case"param":this.setParamValue(e.data.path,e.data.value);break;case"destroy":this.port.close(),this.destroyed=!0,delete this.outputHandler,delete this.computeHandler}};var s=e.processorOptions;if(this.instantiateWasm(s),this.port.onmessage=this.handleMessage,this.destroyed=!1,this.bufferSize=128,this.voices=s.voices,this.dspMeta=s.compiledDsp.dspMeta,this.outputHandler=(t,e)=>this.port.postMessage({path:t,value:e,type:"param"}),this.computeHandler=null,this.$ins=null,this.$outs=null,this.dspInChannnels=[],this.dspOutChannnels=[],this.fPitchwheelLabel=[],this.fCtrlLabel=new Array(128).fill(null).map(()=>[]),this.numIn=this.dspMeta.inputs,this.numOut=this.dspMeta.outputs,this.ptrSize=4,this.sampleSize=4,this.factory=this.dspInstance.exports,this.HEAP=this.voices?this.memory.buffer:this.factory.memory.buffer,this.HEAP32=new Int32Array(this.HEAP),this.HEAPF32=new Float32Array(this.HEAP),this.outputsTimer=5,this.outputsItems=[],this.inputsItems=[],this.$audioHeap=this.voices?0:this.dspMeta.size,this.$$audioHeapInputs=this.$audioHeap,this.$$audioHeapOutputs=this.$$audioHeapInputs+this.numIn*this.ptrSize,this.$audioHeapInputs=this.$$audioHeapOutputs+this.numOut*this.ptrSize,this.$audioHeapOutputs=this.$audioHeapInputs+this.numIn*this.bufferSize*this.sampleSize,this.voices?(this.$$audioHeapMixing=this.$$audioHeapOutputs+this.numOut*this.ptrSize,this.$audioHeapInputs=this.$$audioHeapMixing+this.numOut*this.ptrSize,this.$audioHeapOutputs=this.$audioHeapInputs+this.numIn*this.bufferSize*this.sampleSize,this.$audioHeapMixing=this.$audioHeapOutputs+this.numOut*this.bufferSize*this.sampleSize,this.$dsp=this.$audioHeapMixing+this.numOut*this.bufferSize*this.sampleSize):(this.$audioHeapInputs=this.$$audioHeapOutputs+this.numOut*this.ptrSize,this.$audioHeapOutputs=this.$audioHeapInputs+this.numIn*this.bufferSize*this.sampleSize,this.$dsp=0),this.voices){this.effectMeta=t.effectMeta,this.$mixing=null,this.fFreqLabel$=[],this.fGateLabel$=[],this.fGainLabel$=[],this.fDate=0,this.mixer=this.mixerInstance.exports,this.effect=this.effectInstance?this.effectInstance.exports:null,this.dspVoices$=[],this.dspVoicesState=[],this.dspVoicesLevel=[],this.dspVoicesDate=[],this.kActiveVoice=0,this.kFreeVoice=-1,this.kReleaseVoice=-2,this.kNoVoice=-3;for(var a=0;a<this.voices;a++)this.dspVoices$[a]=this.$dsp+a*this.dspMeta.size,this.dspVoicesState[a]=this.kFreeVoice,this.dspVoicesLevel[a]=0,this.dspVoicesDate[a]=0;this.$effect=this.dspVoices$[this.voices-1]+this.dspMeta.size}this.pathTable$={},this.$buffer=0,this.cachedEvents=[],this.setup()}instantiateWasm(t){var e=createWasmMemory(t.voices,t.compiledDsp.dspMeta,t.compiledDsp.effectMeta,128);this.memory=e;var s=createWasmImport(t.voices,e);if(this.dspInstance=new WebAssembly.Instance(t.compiledDsp.dspModule,s),t.compiledDsp.effectModule&&(this.effectInstance=new WebAssembly.Instance(t.compiledDsp.effectModule,s)),t.voices){var a={imports:{print:console.log},memory:{memory:e}};this.mixerInstance=new WebAssembly.Instance(t.mixer32Module,a)}}updateOutputs(){this.outputsItems.length>0&&this.outputHandler&&0==this.outputsTimer--&&(this.outputsTimer=5,this.outputsItems.forEach(t=>this.outputHandler(t,this.factory.getParamValue(this.$dsp,this.pathTable$[t]))))}parseUI(t){return e.parseUI(t,this,e.parseItem2)}parseGroup(t){return e.parseGroup(t,this,e.parseItem2)}parseItems(t){return e.parseItems(t,this,e.parseItem2)}parseItem(t){return e.parseItem2(t,this,e.parseItem2)}setParamValue(t,e){this.voices?this.effect&&findPath(this.effectMeta.ui,t)?this.effect.setParamValue(this.$effect,this.pathTable$[t],e):this.dspVoices$.forEach(s=>this.factory.setParamValue(s,this.pathTable$[t],e)):this.factory.setParamValue(this.$dsp,this.pathTable$[t],e)}getParamValue(t){return this.voices?this.effect&&findPath(this.effectMeta.ui,t)?this.effect.getParamValue(this.$effect,this.pathTable$[t]):this.factory.getParamValue(this.dspVoices$[0],this.pathTable$[t]):this.factory.getParamValue(this.$dsp,this.pathTable$[t])}setup(){if(this.numIn>0){this.$ins=this.$$audioHeapInputs;for(var t=0;t<this.numIn;t++)this.HEAP32[(this.$ins>>2)+t]=this.$audioHeapInputs+this.bufferSize*this.sampleSize*t;for(var e=this.HEAP32.subarray(this.$ins>>2,this.$ins+this.numIn*this.ptrSize>>2),s=0;s<this.numIn;s++)this.dspInChannnels[s]=this.HEAPF32.subarray(e[s]>>2,e[s]+this.bufferSize*this.sampleSize>>2)}if(this.numOut>0){this.$outs=this.$$audioHeapOutputs,this.voices&&(this.$mixing=this.$$audioHeapMixing);for(var a=0;a<this.numOut;a++)this.HEAP32[(this.$outs>>2)+a]=this.$audioHeapOutputs+this.bufferSize*this.sampleSize*a,this.voices&&(this.HEAP32[(this.$mixing>>2)+a]=this.$audioHeapMixing+this.bufferSize*this.sampleSize*a);for(var i=this.HEAP32.subarray(this.$outs>>2,this.$outs+this.numOut*this.ptrSize>>2),r=0;r<this.numOut;r++)this.dspOutChannnels[r]=this.HEAPF32.subarray(i[r]>>2,i[r]+this.bufferSize*this.sampleSize>>2)}this.parseUI(this.dspMeta.ui),this.effect&&this.parseUI(this.effectMeta.ui),this.voices?(this.inputsItems.forEach(t=>{t.endsWith("/gate")?this.fGateLabel$.push(this.pathTable$[t]):t.endsWith("/freq")?this.fFreqLabel$.push(this.pathTable$[t]):t.endsWith("/gain")&&this.fGainLabel$.push(this.pathTable$[t])}),this.dspVoices$.forEach(t=>this.factory.init(t,sampleRate)),this.effect&&this.effect.init(this.$effect,sampleRate)):this.factory.init(this.$dsp,sampleRate)}getPlayingVoice(t){if(!this.voices)return null;for(var e=this.kNoVoice,s=Number.MAX_VALUE,a=0;a<this.voices;a++)this.dspVoicesState[a]===t&&this.dspVoicesDate[a]<s&&(s=this.dspVoicesDate[a],e=a);return e}allocVoice(t){return this.voices?(this.factory.instanceClear(this.dspVoices$[t]),this.dspVoicesDate[t]=this.fDate++,this.dspVoicesState[t]=this.kActiveVoice,t):null}getFreeVoice(){if(!this.voices)return null;for(var t=0;t<this.voices;t++)if(this.dspVoicesState[t]===this.kFreeVoice)return this.allocVoice(t);for(var e=this.kNoVoice,s=this.kNoVoice,a=Number.MAX_VALUE,i=Number.MAX_VALUE,r=0;r<this.voices;r++)this.dspVoicesState[r]===this.kReleaseVoice?this.dspVoicesDate[r]<a&&(a=this.dspVoicesDate[r],e=r):this.dspVoicesDate[r]<i&&(i=this.dspVoicesDate[r],s=r);return a!==Number.MAX_VALUE?this.allocVoice(e):i!==Number.MAX_VALUE?this.allocVoice(s):this.kNoVoice}keyOn(t,e,s){if(this.voices){var a=this.getFreeVoice();this.fFreqLabel$.forEach(t=>this.factory.setParamValue(this.dspVoices$[a],t,midiToFreq(e))),this.fGateLabel$.forEach(t=>this.factory.setParamValue(this.dspVoices$[a],t,1)),this.fGainLabel$.forEach(t=>this.factory.setParamValue(this.dspVoices$[a],t,s/127)),this.dspVoicesState[a]=e}}keyOff(t,e,s){if(this.voices){var a=this.getPlayingVoice(e);a!==this.kNoVoice&&(this.fGateLabel$.forEach(t=>this.factory.setParamValue(this.dspVoices$[a],t,0)),this.dspVoicesState[a]=this.kReleaseVoice)}}allNotesOff(){var t=this;if(this.voices)for(var e=function(e){t.fGateLabel$.forEach(s=>t.factory.setParamValue(t.dspVoices$[e],s,0)),t.dspVoicesState[e]=t.kReleaseVoice},s=0;s<this.voices;s++)e(s)}midiMessage(t){var e=t[0]>>4,s=15&t[0],a=t[1],i=t[2];9!==s&&(8===e||9===e&&0===i?this.keyOff(s,a,i):9===e?this.keyOn(s,a,i):11===e?this.ctrlChange(s,a,i):14===e&&this.pitchWheel(s,128*i+a))}ctrlChange(t,e,s){123!==e&&120!==e||this.allNotesOff(),this.fCtrlLabel[e].length&&this.fCtrlLabel[e].forEach(t=>{var e=t.path;this.setParamValue(e,remap(s,0,127,t.min,t.max)),this.outputHandler&&this.outputHandler(e,this.getParamValue(e))})}pitchWheel(t,e){this.fPitchwheelLabel.forEach(t=>{this.setParamValue(t.path,remap(e,0,16383,t.min,t.max)),this.outputHandler&&this.outputHandler(t.path,this.getParamValue(t.path))})}process(t,e,s){if(this.destroyed)return!1;var a=t[0],i=e[0];if(this.numIn>0&&(!a||!a[0]||0===a[0].length))return!0;if(this.numOut>0&&(!i||!i[0]||0===i[0].length))return!0;if(void 0!==a)for(var r=0;r<Math.min(this.numIn,a.length);++r){this.dspInChannnels[r].set(a[r])}for(var o in s){var n=s[o];this.setParamValue(o,n[0])}if(this.computeHandler&&this.computeHandler(this.bufferSize),this.voices){this.mixer.clearOutput(this.bufferSize,this.numOut,this.$outs);for(var u=0;u<this.voices;u++)this.factory.compute(this.dspVoices$[u],this.bufferSize,this.$ins,this.$mixing),this.mixer.mixVoice(this.bufferSize,this.numOut,this.$mixing,this.$outs);this.effect&&this.effect.compute(this.$effect,this.bufferSize,this.$outs,this.$outs)}else this.factory.compute(this.$dsp,this.bufferSize,this.$ins,this.$outs);if(this.updateOutputs(),void 0!==i){for(var h=0;h<Math.min(this.numOut,i.length);h++){var p=this.dspOutChannnels[h];i[h].set(p)}this.port.postMessage({type:"plot",value:i,index:this.$buffer++,events:this.cachedEvents}),this.cachedEvents=[]}return!0}printMemory(){console.log("============== Memory layout =============="),console.log("dspMeta.size: "+this.dspMeta.size),console.log("$audioHeap: "+this.$audioHeap),console.log("$$audioHeapInputs: "+this.$$audioHeapInputs),console.log("$$audioHeapOutputs: "+this.$$audioHeapOutputs),console.log("$$audioHeapMixing: "+this.$$audioHeapMixing),console.log("$audioHeapInputs: "+this.$audioHeapInputs),console.log("$audioHeapOutputs: "+this.$audioHeapOutputs),console.log("$audioHeapMixing: "+this.$audioHeapMixing),console.log("$dsp: "+this.$dsp),this.dspVoices$&&this.dspVoices$.forEach((t,e)=>console.log("dspVoices$["+e+"]: "+t)),console.log("$effect: "+this.$effect),console.log("$mixing: "+this.$mixing)}}e.bufferSize=128,registerProcessor(t.id||"mydsp",e)};function x(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}class I extends(window.AudioWorkletNode?AudioWorkletNode:null){constructor(t){super(t.audioCtx,t.id,{numberOfInputs:t.compiledDsp.dspMeta.inputs>0?1:0,numberOfOutputs:t.compiledDsp.dspMeta.outputs>0?1:0,channelCount:Math.max(1,t.compiledDsp.dspMeta.inputs),outputChannelCount:[t.compiledDsp.dspMeta.outputs],channelCountMode:"explicit",channelInterpretation:"speakers",processorOptions:{id:t.id,voices:t.voices,compiledDsp:t.compiledDsp,mixer32Module:t.mixer32Module}}),this.onprocessorerror=t=>{throw console.error("Error from "+this.dspMeta.name+" AudioWorkletNode: "),t.error},this.voices=void 0,this.dspMeta=void 0,this.effectMeta=void 0,this.outputHandler=void 0,this.inputsItems=void 0,this.outputsItems=void 0,this.fPitchwheelLabel=void 0,this.fCtrlLabel=void 0,this.plotHandler=void 0,this.port.onmessage=t=>{"param"===t.data.type&&this.outputHandler?this.outputHandler(t.data.path,t.data.value):"plot"===t.data.type&&this.plotHandler&&this.plotHandler(t.data.value,t.data.index,t.data.events)},this.voices=t.voices,this.dspMeta=t.compiledDsp.dspMeta,this.effectMeta=t.compiledDsp.effectMeta,this.outputHandler=null,this.inputsItems=[],this.outputsItems=[],this.fPitchwheelLabel=[],this.fCtrlLabel=new Array(128).fill(null).map(()=>[]),this.plotHandler=t.plotHandler,this.parseUI(this.dspMeta.ui),this.effectMeta&&this.parseUI(this.effectMeta.ui);try{this.parameters&&this.parameters.forEach(t=>t.automationRate="k-rate")}catch(t){}}parseUI(t){t.forEach(t=>this.parseGroup(t))}parseGroup(t){t.items&&this.parseItems(t.items)}parseItems(t){t.forEach(t=>this.parseItem(t))}parseItem(t){if("vgroup"===t.type||"hgroup"===t.type||"tgroup"===t.type)this.parseItems(t.items);else if("hbargraph"===t.type||"vbargraph"===t.type)this.outputsItems.push(t.address);else if("vslider"===t.type||"hslider"===t.type||"button"===t.type||"checkbox"===t.type||"nentry"===t.type){if(this.inputsItems.push(t.address),!t.meta)return;t.meta.forEach(e=>{var s=e.midi;if(s){var a=s.trim();if("pitchwheel"===a)this.fPitchwheelLabel.push({path:t.address,min:t.min,max:t.max});else{var i=a.match(/^ctrl\s(\d+)/);if(!i)return;this.fCtrlLabel[parseInt(i[1])].push({path:t.address,min:t.min,max:t.max})}}})}}keyOn(t,e,s){var a={type:"keyOn",data:[t,e,s]};this.port.postMessage(a)}keyOff(t,e,s){var a={type:"keyOff",data:[t,e,s]};this.port.postMessage(a)}allNotesOff(){this.port.postMessage({type:"ctrlChange",data:[0,123,0]})}ctrlChange(t,e,s){var a={type:"ctrlChange",data:[t,e,s]};this.port.postMessage(a),this.fCtrlLabel[e].length&&this.fCtrlLabel[e].forEach(t=>{var e=t.path,a=m(s,0,127,t.min,t.max),i=this.parameters.get(e);i&&i.setValueAtTime(a,this.context.currentTime)})}pitchWheel(t,e){var s={type:"pitchWheel",data:[t,e]};this.port.postMessage(s),this.fPitchwheelLabel.forEach(t=>{var s=t.path,a=m(e,0,16383,t.min,t.max),i=this.parameters.get(s);i&&i.setValueAtTime(a,this.context.currentTime)})}midiMessage(t){var e=t[0]>>4,s=15&t[0],a=t[1],i=t[2];9!==s&&(8===e||9===e&&0===i?this.keyOff(s,a,i):9===e?this.keyOn(s,a,i):11===e?this.ctrlChange(s,a,i):14===e?this.pitchWheel(s,128*i+a):this.port.postMessage({data:t,type:"midi"}))}metadata(){}setParamValue(t,e){var s={type:"param",data:{path:t,value:e}};this.port.postMessage(s);var a=this.parameters.get(t);a&&a.setValueAtTime(e,this.context.currentTime)}getParamValue(t){var e=this.parameters.get(t);return e?e.value:null}setOutputParamHandler(t){this.outputHandler=t}getOutputParamHandler(){return this.outputHandler}getNumInputs(){return this.dspMeta.inputs}getNumOutputs(){return this.dspMeta.outputs}getParams(){return this.inputsItems}getJSON(){if(this.voices){var t=this.dspMeta,e=this.effectMeta,s=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?x(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},t);return s.ui=e?[{type:"tgroup",label:"Sequencer",items:[{type:"vgroup",label:"Instrument",items:t.ui},{type:"vgroup",label:"Effect",items:e.ui}]}]:[{type:"tgroup",label:"Polyphonic",items:[{type:"vgroup",label:"Voices",items:t.ui}]}],JSON.stringify(s)}return JSON.stringify(this.dspMeta)}getUI(){if(this.voices){var t=this.dspMeta,e=this.effectMeta;return e?[{type:"tgroup",label:"Sequencer",items:[{type:"vgroup",label:"Instrument",items:t.ui},{type:"vgroup",label:"Effect",items:e.ui}]}]:[{type:"tgroup",label:"Polyphonic",items:[{type:"vgroup",label:"Voices",items:t.ui}]}]}return this.dspMeta.ui}destroy(){this.port.postMessage({type:"destroy"}),this.port.close(),delete this.plotHandler,delete this.outputHandler}}class H{constructor(){this.bufferSize=1024,this.sampleRate=void 0,this.dspMeta=void 0,this.$ins=void 0,this.$outs=void 0,this.dspInChannnels=void 0,this.dspOutChannnels=void 0,this.numIn=void 0,this.numOut=void 0,this.ptrSize=void 0,this.sampleSize=void 0,this.$audioHeap=void 0,this.$$audioHeapInputs=void 0,this.$$audioHeapOutputs=void 0,this.$audioHeapInputs=void 0,this.$audioHeapOutputs=void 0,this.$dsp=void 0,this.factory=void 0,this.HEAP=void 0,this.HEAP32=void 0,this.HEAPF32=void 0,this.output=void 0}static get importObject(){return{env:{memory:void 0,memoryBase:0,tableBase:0,_abs:Math.abs,_acosf:Math.acos,_asinf:Math.asin,_atanf:Math.atan,_atan2f:Math.atan2,_ceilf:Math.ceil,_cosf:Math.cos,_expf:Math.exp,_floorf:Math.floor,_fmodf:(t,e)=>t%e,_logf:Math.log,_log10f:Math.log10,_max_f:Math.max,_min_f:Math.min,_remainderf:(t,e)=>t-Math.round(t/e)*e,_powf:Math.pow,_roundf:Math.fround,_sinf:Math.sin,_sqrtf:Math.sqrt,_tanf:Math.tan,_acoshf:Math.acosh,_asinhf:Math.asinh,_atanhf:Math.atanh,_coshf:Math.cosh,_sinhf:Math.sinh,_tanhf:Math.tanh,_acos:Math.acos,_asin:Math.asin,_atan:Math.atan,_atan2:Math.atan2,_ceil:Math.ceil,_cos:Math.cos,_exp:Math.exp,_floor:Math.floor,_fmod:(t,e)=>t%e,_log:Math.log,_log10:Math.log10,_max_:Math.max,_min_:Math.min,_remainder:(t,e)=>t-Math.round(t/e)*e,_pow:Math.pow,_round:Math.fround,_sin:Math.sin,_sqrt:Math.sqrt,_tan:Math.tan,_acosh:Math.acosh,_asinh:Math.asinh,_atanh:Math.atanh,_cosh:Math.cosh,_sinh:Math.sinh,_tanh:Math.tanh,table:new WebAssembly.Table({initial:0,element:"anyfunc"})}}}init(t){var e=this;return u()(o.a.mark((function s(){var a,i;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=t.compiledDsp){s.next=3;break}throw new Error("No Dsp input");case 3:return e.dspMeta=a.dspMeta,e.$ins=null,e.$outs=null,e.dspInChannnels=[],e.dspOutChannnels=[],e.numIn=e.dspMeta.inputs,e.numOut=e.dspMeta.outputs,e.ptrSize=4,e.sampleSize=4,s.next=14,WebAssembly.instantiate(a.dspModule,H.importObject);case 14:i=s.sent,e.factory=i.exports,e.HEAP=e.factory.memory.buffer,e.HEAP32=new Int32Array(e.HEAP),e.HEAPF32=new Float32Array(e.HEAP),e.output=new Array(e.numOut).fill(null).map(()=>new Float32Array(e.bufferSize));case 20:case"end":return s.stop()}}),s)})))()}setup(t){if(!this.dspMeta)throw new Error("No Dsp");if(this.sampleRate=t&&t.sampleRate||48e3,this.$audioHeap=this.dspMeta.size,this.$$audioHeapInputs=this.$audioHeap,this.$$audioHeapOutputs=this.$$audioHeapInputs+this.numIn*this.ptrSize,this.$audioHeapInputs=this.$$audioHeapOutputs+this.numOut*this.ptrSize,this.$audioHeapOutputs=this.$audioHeapInputs+this.numIn*this.bufferSize*this.sampleSize,this.$dsp=0,this.numIn>0){this.$ins=this.$$audioHeapInputs;for(var e=0;e<this.numIn;e++)this.HEAP32[(this.$ins>>2)+e]=this.$audioHeapInputs+this.bufferSize*this.sampleSize*e;for(var s=this.HEAP32.subarray(this.$ins>>2,this.$ins+this.numIn*this.ptrSize>>2),a=0;a<this.numIn;a++)this.dspInChannnels[a]=this.HEAPF32.subarray(s[a]>>2,s[a]+this.bufferSize*this.sampleSize>>2)}if(this.numOut>0){this.$outs=this.$$audioHeapOutputs;for(var i=0;i<this.numOut;i++)this.HEAP32[(this.$outs>>2)+i]=this.$audioHeapOutputs+this.bufferSize*this.sampleSize*i;for(var r=this.HEAP32.subarray(this.$outs>>2,this.$outs+this.numOut*this.ptrSize>>2),o=0;o<this.numOut;o++)this.dspOutChannnels[o]=this.HEAPF32.subarray(r[o]>>2,r[o]+this.bufferSize*this.sampleSize>>2)}this.factory.init(this.$dsp,this.sampleRate)}compute(){if(!this.factory)return this.output;for(var t=0;t<this.numIn;t++)this.dspInChannnels[t].fill(0);if(this.factory.compute(this.$dsp,this.bufferSize,this.$ins,this.$outs),void 0!==this.output)for(var e=0;e<this.numOut;e++)this.output[e].set(this.dspOutChannnels[e]);return this.output}plot(t){var e=this;return u()(o.a.mark((function s(){var a,i,r,n,u;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!t||!t.compiledDsp){s.next=3;break}return s.next=3,e.init(t);case 3:for(e.setup(t),a=t&&t.size||128,i=new Array(e.numOut).fill(null).map(()=>new Float32Array(a)),r=0;r<a;r+=e.bufferSize)for(n=e.compute(),u=0;u<i.length;u++)i[u].set(a-r>e.bufferSize?n[u]:n[u].subarray(0,a-r),r);return s.abrupt("return",i);case 8:case"end":return s.stop()}}),s)})))()}}function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function V(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?w(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class S{constructor(t,e){this.libFaust=void 0,this.debug=!1,this.dspTable={},this.workletProcessors=[],this._log=[],this.offlineProcessor=new H,this.wasmLocation=void 0,this.dataLocation=void 0,this.logHandler=void 0,this.debug=t,this.libFaust=e}getNode(t,e){var s=this;return u()(o.a.mark((function a(){var i,r,n,u,h,p,c,f,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=e.audioCtx,r=e.voices,n=e.useWorklet,u=e.bufferSize,h=e.plotHandler,p=e.args,c=$(p),a.next=4,s.compileCodes(t,c,!r);case 4:if(f=a.sent){a.next=7;break}return a.abrupt("return",null);case 7:return l={compiledDsp:f,audioCtx:i,voices:r,plotHandler:h,bufferSize:n?128:u},a.abrupt("return",n?s.getAudioWorkletNode(l):s.getScriptProcessorNode(l));case 9:case"end":return a.stop()}}),a)})))()}inspect(t,e){var s=this;return u()(o.a.mark((function a(){var i,r,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=e.voices,r=e.args,n=$(r),a.abrupt("return",s.compileCodes(t,n,!i));case 3:case"end":return a.stop()}}),a)})))()}plot(t){var e=this;return u()(o.a.mark((function s(){var a,i;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(i=$(t.args),!t.code){s.next=7;break}return s.next=4,e.compileCodes(t.code,i,!0);case 4:if(a=s.sent){s.next=7;break}return s.abrupt("return",null);case 7:return s.abrupt("return",e.offlineProcessor.plot(V({compiledDsp:a},t)));case 8:case"end":return s.stop()}}),s)})))()}compileCode(t,e,s,a){var i,r=(i="",s.forEach(t=>{i+=t+" "}),i+" -cn "+t);try{var o=performance.now(),n=this.libFaust.createDSPFactory("FaustDSP",e,r,a),u=performance.now();if(this.log("Faust compilation duration : "+(u-o)),n.error)throw new Error(n.error);if(0===n.module)return null;for(var h=this.libFaust.getWasmModule(n.module),p=h.data.size(),c=new Uint8Array(p),f=0;f<p;f++)c[f]=h.data.get(f);return this.libFaust.freeWasmModule(n.module),{ui8Code:c,code:e,helpersCode:h.helper}}catch(t){var l=this.libFaust.getErrorAfterException();throw this.libFaust.cleanupAfterException(),l?new Error(l):t}}compileCodes(t,e,s){var a=this;return u()(o.a.mark((function i(){var r,n,u,h,c,f,l;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=e.join(""),n=p.hash(t+(s?"internal_memory":"external_memory")+r,{msgFormat:"string"}),!(u=a.dspTable[n])){i.next=6;break}return a.log("Existing library : "+n),i.abrupt("return",u);case 6:a.log("libfaust.js version : "+a.libFaust.version()),h="adapt(1,1) = _; adapt(2,2) = _,_; adapt(1,2) = _ <: _,_; adapt(2,1) = _,_ :> _;\nadaptor(F,G) = adapt(outputs(F),inputs(G));\ndsp_code = environment{".concat(t,"};\nprocess = adaptor(dsp_code.process, dsp_code.effect) : dsp_code.effect;"),c=a.compileCode(n,t,e,s);try{f=a.compileCode(n+"_",h,e,s)}catch(t){}return l={dsp:c,effect:f},i.abrupt("return",a.compileDsp(l,n));case 12:case"end":return i.stop()}}),i)})))()}expandCode(t,e){this.log("libfaust.js version : "+this.libFaust.version());var s=b(e)+"-lang wasm";try{var a=this.libFaust.expandDSP("FaustDSP",t,s),i=a.dsp,r=a.error;return r&&this.error(r),i}catch(t){var o=this.libFaust.getErrorAfterException();throw this.libFaust.cleanupAfterException(),o?new Error(o):t}}compileDsp(t,e){var s=this;return u()(o.a.mark((function a(){var i,r,n,u,h,p,c,f,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=performance.now(),a.next=3,WebAssembly.compile(t.dsp.ui8Code);case 3:if(r=a.sent){a.next=7;break}throw s.error("Faust DSP factory cannot be compiled"),new Error("Faust DSP factory cannot be compiled");case 7:n=performance.now(),s.log("WASM compilation duration : "+(n-i)),u={shaKey:e,codes:t,dspModule:r,dspMeta:void 0},a.prev=10,h=t.dsp.helpersCode.match(/getJSON\w+?\(\)[\s\n]*{[\s\n]*return[\s\n]*'(\{.+?)';}/)[1].replace(/\\'/g,"'"),p=JSON.parse(h),u.dspMeta=p,a.next=20;break;case 16:throw a.prev=16,a.t0=a.catch(10),s.error("Error in JSON.parse: "+a.t0.message),a.t0;case 20:if(s.dspTable[e]=u,t.effect){a.next=23;break}return a.abrupt("return",u);case 23:return a.prev=23,a.next=26,WebAssembly.compile(t.effect.ui8Code);case 26:c=a.sent,u.effectModule=c,a.prev=28,f=t.effect.helpersCode.match(/getJSON\w+?\(\)[\s\n]*{[\s\n]*return[\s\n]*'(\{.+?)';}/)[1].replace(/\\'/g,"'"),l=JSON.parse(f),u.effectMeta=l,a.next=38;break;case 34:throw a.prev=34,a.t1=a.catch(28),s.error("Error in JSON.parse: "+a.t1.message),a.t1;case 38:a.next=43;break;case 40:return a.prev=40,a.t2=a.catch(23),a.abrupt("return",u);case 43:return a.abrupt("return",u);case 44:case"end":return a.stop()}}),a,null,[[10,16],[23,40],[28,34]])})))()}getScriptProcessorNode(t){var e=this;return u()(o.a.mark((function s(){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",new A(e).getNode(t));case 1:case"end":return s.stop()}}),s)})))()}getAudioWorkletNode(t){var e=this;return u()(o.a.mark((function s(){var a,i,r,n,u,h,p,c;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=t.compiledDsp,i=t.audioCtx,r=t.voices,n=t.plotHandler,delete(u=V({},a)).codes,h=u.shaKey+"_"+r,-1!==e.workletProcessors.indexOf(h)){s.next=10;break}return p="\nconst remap = ".concat(m.toString(),";\nconst midiToFreq = ").concat(d.toString(),";\nconst findPath = (").concat(v.toString(),")();\nconst createWasmImport = ").concat(y.toString(),";\nconst createWasmMemory = ").concat(g.toString(),";\nconst faustData = ").concat(JSON.stringify({id:h,voices:r,dspMeta:u.dspMeta,effectMeta:u.effectMeta}),";\n(").concat(O.toString(),")();\n"),c=window.URL.createObjectURL(new Blob([p],{type:"text/javascript"})),s.next=9,i.audioWorklet.addModule(c);case 9:e.workletProcessors.push(h);case 10:return s.abrupt("return",new I({audioCtx:i,id:h,voices:r,compiledDsp:u,plotHandler:n,mixer32Module:l}));case 11:case"end":return s.stop()}}),s)})))()}deleteDsp(t){delete this.dspTable[t.shaKey],this.libFaust.deleteAllDSPFactories()}stringifyDspTable(){var t={};for(var e in this.dspTable){var s=this.dspTable[e].codes;t[e]={dsp:{strCode:btoa(c(s.dsp.ui8Code)),code:s.dsp.code,helpersCode:s.dsp.helpersCode},effect:s.effect?{strCode:btoa(c(s.effect.ui8Code)),code:s.effect.code,helpersCode:s.effect.helpersCode}:void 0}}return JSON.stringify(t)}parseDspTable(t){var e=this,s=JSON.parse(t),a=function(t){if(e.dspTable[t])return"continue";var a=s[t],i={dsp:{ui8Code:f(atob(a.dsp.strCode)),code:a.dsp.code,helpersCode:a.dsp.helpersCode},effect:a.effect?{ui8Code:f(atob(a.effect.strCode)),code:a.effect.code,helpersCode:a.effect.helpersCode}:void 0};e.compileDsp(i,t).then(s=>e.dspTable[t]=s)};for(var i in s)a(i)}getDiagram(t,e){var s=b(e)+"-lang wasm -o /dev/null -svg";try{this.libFaust.generateAuxFiles("FaustDSP",t,s)}catch(t){var a=this.libFaust.getErrorAfterException();throw this.libFaust.cleanupAfterException(),a?new Error(a):t}return this.libFaust.FS.readFile("FaustDSP-svg/process.svg",{encoding:"utf8"})}get fs(){return this.libFaust.FS}log(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];this.debug&&console.log(...e);var a=1===e.length&&"string"==typeof e[0]?e[0]:JSON.stringify(1!==e.length?e:e[0]);this._log.push(a),"function"==typeof this.logHandler&&this.logHandler(a,0)}error(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];console.error(...e);var a=1===e.length&&"string"==typeof e[0]?e[0]:JSON.stringify(1!==e.length?e:e[0]);this._log.push(a),"function"==typeof this.logHandler&&this.logHandler(a,1)}}}])}));
//# sourceMappingURL=index.min.js.map